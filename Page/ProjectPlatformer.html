<html>

<head>
    <title>Как сделать 2D платформер на Unity</title>
    <link rel="stylesheet" href="/Design/StyleProject.css" />
</head>

<body>
    <h1>Как сделать 2D платформер на Unity</h1>
    <p>В этом уроке мы научимся создавать 2D платформер на движке Unity. Платформер - это жанр игр, в котором игрок
        управляет персонажем, который перемещается по платформам и преодолевает различные препятствия и врагов. Примеры
        платформеров - Super Mario, Sonic, Limbo и т.д.</p>
    <p>Для создания платформера нам понадобятся следующие компоненты:</p>
    <ul>
        <li>Игровой персонаж с анимацией и управлением</li>
        <li>Платформы для уровней</li>
        <li>Враги с разным поведением</li>
        <li>Система очков и жизней</li>
        <li>Меню и интерфейс</li>
        <li>Подключение GitHub для хранения и синхронизации проекта</li>
    </ul>
    <p>Для начала нам нужно создать новый проект в Unity и выбрать шаблон 2D. Затем мы импортируем пакет графики для
        платформера, который можно скачать по ссылке [здесь](https://www.youtube.com/watch?v=sX0hhZT9wDg). В этом пакете
        есть спрайты для персонажа, платформ, врагов, фона и других элементов.</p>
    <h2>Создание игрового персонажа</h2>
    <p>Для создания игрового персонажа мы используем спрайт Character, который находится в папке Assets/Sprites. Мы
        перетаскиваем его на сцену и добавляем ему компоненты Rigidbody 2D и Box Collider 2D. Rigidbody 2D позволяет
        персонажу подчиняться физике, а Box Collider 2D определяет его границы для столкновений с другими объектами.</p>
    <p>Для анимации персонажа мы используем спрайтовые листы, которые содержат последовательность кадров для разных
        действий. Например, в папке Assets/Sprites/Character есть спрайтовые листы для ходьбы, прыжка, падения и смерти.
        Мы можем создать анимации из этих спрайтов с помощью окна Animation, которое можно открыть через
        Window/Animation/Animation. Для каждого спрайтового листа мы создаем новый клип анимации и перетаскиваем его в
        окно Animation. Затем мы настраиваем параметры анимации, такие как скорость, цикличность и т.д.</p>
    <p>Для управления анимациями персонажа мы используем окно Animator, которое можно открыть через
        Window/Animation/Animator. В этом окне мы создаем состояния для каждой анимации и связываем их переходами.
        Переходы определяют, когда и как переключаться между анимациями в зависимости от условий. Условия задаются с
        помощью параметров, которые можно добавить в окне Animator. Например, мы можем добавить параметр Speed, который
        будет равен скорости перемещения персонажа по горизонтали. Затем мы можем сделать так, чтобы персонаж переходил
        от анимации Idle (спокойное состояние) к анимации Walk (ходьба), если Speed больше нуля, и обратно, если Speed
        равен нулю.</p>
    <p>Для управления персонажем с клавиатуры мы используем скрипт на языке C#, который можно создать через
        Assets/Create/C# Script. Мы называем его CharacterController и перетаскиваем его на персонажа. В этом скрипте мы
        будем получать ввод пользователя, изменять скорость и направление персонажа, а также устанавливать значения
        параметров для аниматора. Вот пример кода для этого скрипта:</p>

    <p>
        using UnityEngine;

        public class CharacterController : MonoBehaviour
        {
        // Ссылка на компонент Rigidbody2D
        private Rigidbody2D rb;

        // Ссылка на компонент Animator
        private Animator anim;

        // Скорость перемещения персонажа
        public float speed = 5f;

        // Сила прыжка персонажа
        public float jumpForce = 10f;

        // Проверка, находится ли персонаж на земле
        private bool isGrounded = false;

        // Слой, который определяет, что является землей
        public LayerMask groundLayer;

        // Радиус круга, который проверяет контакт с землей
        public float groundCheckRadius = 0.2f;

        // Точка, откуда рисуется круг для проверки контакта с землей
        public Transform groundCheckPoint;

        // Направление персонажа: 1 - вправо, -1 - влево
        private int direction = 1;

        // Метод, который вызывается при старте игры
        private void Start()
        {
        // Получаем ссылки на компоненты
        rb = GetComponent<Rigidbody2D>();
            anim = GetComponent<Animator>();
                }

                // Метод, который вызывается каждый кадр
                private void Update()
                {
                // Получаем ввод пользователя: -1 - влево, 1 - вправо, 0 - стоим
                float input = Input.GetAxis("Horizontal");

                // Устанавливаем скорость персонажа по горизонтали в зависимости от ввода
                rb.velocity = new Vector2(input * speed, rb.velocity.y);

                // Проверяем, находится ли персонаж на земле, рисуя круг от точки groundCheckPoint с радиусом
                groundCheckRadius
                // и проверяя, пересекается ли он с объектами слоя groundLayer
                isGrounded = Physics2D.OverlapCircle(groundCheckPoint.position, groundCheckRadius, groundLayer);

                // Если персонаж на земле и пользователь нажал пробел, то придаем персонажу силу вверх для прыжка
                if (isGrounded && Input.GetKeyDown(KeyCode.Space))
                {
                rb.AddForce(Vector2.up * jumpForce, ForceMode2D.Impulse);
                }

                // Если персонаж движется вправо, то устанавливаем направление в 1 и поворачиваем его вправо
                if (input > 0)
                {
                direction = 1;
                transform.eulerAngles = new Vector3(0, 0, 0);
                }

                // Если персонаж движется влево, то устанавливаем направление в -1 и поворачиваем его влево
                if (input < 0) { direction=-1; transform.eulerAngles=new Vector3(0, 180, 0); } // Устанавливаем устанавливаем направление в 0 и поворачиваем его влево  </p>
    </body>
</html>    